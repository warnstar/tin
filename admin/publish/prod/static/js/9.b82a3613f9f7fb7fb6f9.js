webpackJsonp([9],{"UG2+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Nspb"),o={name:"baseform",data:function(){return{form:{title:"",desc:"",cover:""},upload:{action:l.n,headers:{"X-Request-Token":localStorage.getItem("access_token")},dialogImageUrl:"",dialogVisible:!1}}},methods:{onSubmit:function(){var e=this;Object(l.m)(this.form).then(function(t){200==t.data.status?(e.$message.success("提交成功！"),e.$router.replace("/test/index")):e.$message.error(t.data.message)})},cancel:function(){this.$router.replace("/test/index")},uploadSuccess:function(e,t,a){this.form.cover=e.data.url},uploadRemove:function(e,t){console.log(e,t)},uploadPictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 表单")]),e._v(" "),a("el-breadcrumb-item",[e._v("基本表单")])],1)],1),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"说明"}},[a("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"封面"}},[a("el-upload",{attrs:{action:e.upload.action,headers:e.upload.headers,"list-type":"picture-card","on-success":e.uploadSuccess,"on-preview":e.uploadPictureCardPreview,"on-remove":e.uploadRemove,multiple:!1,limit:1}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{visible:e.upload.dialogVisible},on:{"update:visible":function(t){e.$set(e.upload,"dialogVisible",t)}}},[a("img",{attrs:{width:"100%",src:e.upload.dialogImageUrl,alt:""}})])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)])])},staticRenderFns:[]},r=a("C7Lr")(o,i,!1,null,null,null);t.default=r.exports}});